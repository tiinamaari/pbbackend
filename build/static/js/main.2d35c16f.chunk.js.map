{"version":3,"sources":["components/Filter.js","components/AddPersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","onChange","AddPersonForm","param","state","newName","handleNameChange","newNumber","handleNumberChange","type","onClick","addPerson","baseUrl","persons","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","concat","remove","object","delete","Notification","_ref","message","className","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","event","setState","target","handleFilter","filter","preventDefault","newPerson","name","number","map","person","includes","thisPerson","find","n","personWithNewNumber","objectSpread","console","log","window","confirm","personService","notification","notificationTimeOut","removePerson","personToRemove","personsAfterRemove","setTimeout","_this2","_this3","personsToShow","indexOf","components_AddPersonForm","components_Notification","components_Filter","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2d35c16f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n      Rajaa hakua: \r\n        <input \r\n          value = {props.value}\r\n          onChange = {props.onChange} />      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nconst AddPersonForm = (props) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        Nimi: \r\n        <input \r\n          value={props.param.state.newName} \r\n          onChange={props.param.handleNameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        Numero: \r\n        <input \r\n          value={props.param.state.newNumber} \r\n          onChange={props.param.handleNumberChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" onClick={props.param.addPerson}>Lisää</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddPersonForm\r\n\r\n\r\n\r\n\r\n","import axios from 'axios'\r\nconst baseUrl = 'https://still-fortress-81973.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id, object) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, object)\r\n  return request.then(response => response.data) \r\n\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\nimport Filter from './components/Filter'\r\nimport AddPersonForm from './components/AddPersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      persons: [],\r\n      newName: '',\r\n      newNumber: '',\r\n      filter: '',\r\n      notification: null\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    console.log('did mount')\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        this.setState({persons: response})\r\n      })\r\n  }\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ newName: event.target.value })\r\n  }\r\n  handleNumberChange = (event) => {\r\n    this.setState({ newNumber: event.target.value })\r\n  }\r\n  handleFilter = (event) => {\r\n    this.setState({ filter: event.target.value })\r\n  }\r\n\r\n  addPerson = (event) => {\r\n    event.preventDefault()\r\n    const newPerson = {\r\n      name: this.state.newName,\r\n      number: this.state.newNumber\r\n    }\r\n\r\n    const personNames =  this.state.persons.map(person => person.name)\r\n\r\n    if(!personNames.includes(newPerson.name)){\r\n      personService\r\n        .create(newPerson)\r\n        .then(newPerson => {\r\n      \r\n        const persons = this.state.persons.concat(newPerson)\r\n        this.setState({\r\n          persons: persons,\r\n          newName: '',\r\n          newNumber: '',\r\n          notification: `${newPerson.name} lisättiin onnistuneesti!`\r\n        })\r\n        this.notificationTimeOut()\r\n      })\r\n    }\r\n    else {\r\n      const thisPerson = this.state.persons.find(n => n.name === newPerson.name)\r\n      const personWithNewNumber = {... thisPerson, number: newPerson.number}\r\n      console.log(personWithNewNumber)\r\n      if (window.confirm(`${thisPerson.name} on jo luettelossa, korvataanko vanha numero uudella?`)) { \r\n        console.log(\"korvataan\")\r\n        personService\r\n          .update(personWithNewNumber.id, personWithNewNumber)\r\n          .then(personWithNewNumber => {\r\n            const persons = this.state.persons.filter(n => n.id !== personWithNewNumber.id)\r\n            this.setState({\r\n              persons: persons.concat(personWithNewNumber),\r\n              newName: '',\r\n              newNumber: '',\r\n              notification: `Henkilön ${personWithNewNumber.name} puhelinnumero päivitettiin onnistuneesti!`\r\n            })\r\n            this.notificationTimeOut()\r\n        })\r\n      }\r\n    } \r\n  }\r\n\r\n  removePerson = (personToRemove) => {\r\n    return () => {\r\n      if (window.confirm(`Poistetaanko ${personToRemove.name}?`)) { \r\n        console.log(\"poistetaan\", personToRemove.id )\r\n        personService\r\n          .remove(personToRemove.id, personToRemove)\r\n          .then(response => {\r\n            const personsAfterRemove = this.state.persons.filter(n => n !== personToRemove)\r\n            this.setState({\r\n              persons : personsAfterRemove,\r\n              notification: `${personToRemove.name} on poistettu!`\r\n            })\r\n            this.notificationTimeOut()\r\n          })\r\n      }\r\n    }  \r\n  }\r\n\r\n  notificationTimeOut = () => {\r\n    setTimeout(() => {\r\n      this.setState({notification: null})\r\n    }, 3000)\r\n  }\r\n\r\n  render() {\r\n    console.log(\"render\")\r\n    const personsToShow =\r\n      this.state.filter === '' ?\r\n        this.state.persons :\r\n        this.state.persons.filter(person => (person.name.indexOf(this.state.filter) > -1))\r\n    return (\r\n      <div>\r\n        <h2>Puhelinluettelo</h2>\r\n        <AddPersonForm param={this} />\r\n        <Notification message={this.state.notification}/>\r\n        <h2>Numerot</h2>\r\n        <Filter value={this.state.filter} onChange={this.handleFilter} />    \r\n        <table>\r\n          {personsToShow.map(person => \r\n            <tr>\r\n              <td>{person.name}</td>\r\n              <td>{person.number}</td>\r\n              <td><button onClick={this.removePerson(person)}>Poista</button></td>\r\n            </tr>\r\n          )}\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}